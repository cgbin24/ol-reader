import{a as n,x as j,o as C,i as b,j as D,D as t,X as E,Y as R,p as w}from"./@vue.Br72Imo5.js";import{a as S,b as W,c as _,__tla as $}from"./pdfjs-dist.N0_wRIGX.js";import{_ as z,__tla as q}from"../app.vTDh_Ym8.js";let f,B=Promise.all([(()=>{try{return $}catch{}})(),(()=>{try{return q}catch{}})()]).then(async()=>{let p,u,m,g;p={class:"pdfPreview"},u={class:"page-tool"},m={class:"page-tool-item"},g={__name:"pd2",props:{src:{type:String,required:!0}},setup(h){const l=h,s=n(null),a=j({source:l.src,pageNum:1,scale:1,numPages:0}),y=n(!0),o=n(null),P=()=>{a.pageNum>1&&(a.pageNum-=1,v())},x=()=>{a.pageNum<a.numPages&&(a.pageNum+=1,v())};C(async()=>{N()});const N=async()=>{try{if(s.value){S.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${W}/pdf.worker.min.mjs`;const e=await _(l.src).promise;a.numPages=e.numPages,await d()}}catch(e){console.error("Error initializing PDF viewer:",e)}},d=async()=>{try{if(s.value){const e=await(await _(l.src).promise).getPage(a.pageNum),r=e.getViewport({scale:a.scale});console.log("viewport:",r);const c=s.value.getContext("2d");if(c){const i=window.devicePixelRatio||1;s.value.width=r.width*i,s.value.height=r.height*i,s.value.style.width=`${o.value.style.width}px`,s.value.style.height=`${o.value.style.height}px`,c.setTransform(i,0,0,i,0,0);const k={canvasContext:c,viewport:r};await e.render(k).promise}}}catch(e){console.error("Error rendering page:",e)}},v=async()=>{await d()};return(e,r)=>(b(),D("div",p,[t("div",{class:"pdfWrap",ref_key:"pWrapRef",ref:o},[t("canvas",{ref_key:"canvas",ref:s,class:"pdfCanvas"},null,512)],512),E(t("div",u,[t("div",{class:"page-tool-item",onClick:P},"pre"),t("div",{class:"page-tool-item",onClick:x},"next"),t("div",m,w(a.pageNum)+" / "+w(a.numPages),1)],512),[[R,y.value]])]))}},f=z(g,[["__scopeId","data-v-084a2328"]])});export{f as P,B as __tla};
