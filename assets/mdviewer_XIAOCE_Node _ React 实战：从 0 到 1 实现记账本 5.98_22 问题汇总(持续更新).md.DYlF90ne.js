import{_ as s}from"./app.BdTF1atn.js";import{j as i,i as a,Z as p}from"./chunks/@vue.D6nrJjhM.js";/* empty css                          */import"./chunks/@vueuse.ErXst1iV.js";const b=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"mdviewer/XIAOCE/Node + React 实战：从 0 到 1 实现记账本 5.98/22 问题汇总(持续更新).md","filePath":"mdviewer/XIAOCE/Node + React 实战：从 0 到 1 实现记账本 5.98/22 问题汇总(持续更新).md"}'),t={name:"mdviewer/XIAOCE/Node + React 实战：从 0 到 1 实现记账本 5.98/22 问题汇总(持续更新).md"},e=p(`<h3 id="学习过程中问题汇总" tabindex="-1">学习过程中问题汇总 ​</h3><h3 id="数据库相关" tabindex="-1">数据库相关 ​</h3><h4 id="问题-1" tabindex="-1">问题 1 ​</h4><p><code>ER_NOT_SUPPORTED_AUTH_MODE</code> 错误解决。</p><p>最新的 <code>mysql</code> 模块并未完全支持 <code>MySQL 8</code> 的“caching_sha2_password” 加密方式，而“caching_sha2_password”在 <code>MySQL 8</code> 中是默认的加密方式。因此，下面的方式命令是默认已经使用了“caching_sha2_password”加密方式，该账号、密码无法在mysql模块中使用。</p><p>简单说就是目前 <code>MySQL 8.0</code> 以上的版本的加密方式，<code>Node</code> 还不支持。</p><p><strong>解决方法：</strong></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ALTER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> USER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;root&#39;@&#39;localhost&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IDENTIFIED</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> WITH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql_native_password</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;你的密码&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>上述指令需启动 <code>mysql</code> 的情况下执行。</p><h4 id="问题-2" tabindex="-1">问题 2 ​</h4><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e0dce273995f4e6e80c2337b56be5bb9~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="" loading="lazy"></p><p>上述提示多半是端口被占用了，建议修改 <code>egg</code> 启动的端口号，在 <code>config/config.default.js</code> 中，如下：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config.cluster </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  listen: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    port: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7009</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 项目启动的端口号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hostname: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;0.0.0.0&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="问题-3" tabindex="-1">问题 3 ​</h4><p>服务器安装社群版 <code>mysql</code> 报错说没有任何匹配？</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/410f8ab3edef4afab11477bb0b71592e~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="" loading="lazy"></p><p><strong>解决方案</strong></p><p>安装前要先禁用 <code>mysql</code>，先跑一下后面这个指令 <code>sudo yum module disable mysql</code>。</p><h3 id="网站相关" tabindex="-1">网站相关 ​</h3><h4 id="问题-1-1" tabindex="-1">问题 1 ​</h4><p>网站部署到服务器上之后，通过 <code>IP</code> 地址，无法访问到，咋整？</p><p><strong>解决方案</strong></p><p>前往服务器实例，安全组，将你所部署的端口加入安全组，具体操作可自行搜索。</p><h4 id="问题-2-1" tabindex="-1">问题 2 ​</h4><p>部署上线之后跨域该如何解决？</p><p><strong>解决方案</strong></p><p>服务端项目下，通过 <code>egg-cors</code> 插件解决，具体配置如下图：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a611259f2b93452b85d69e3d8d1a1383~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="" loading="lazy"></p><h4 id="问题-3-1" tabindex="-1">问题 3 ​</h4><p>部署到线上环境后，遇到如下图的报错：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b905189e71cc47e785510846733c2455~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="" loading="lazy"></p><p>请将 <code>Zarm</code> 版本降为 <code>2.8.2</code>，因为高版本不兼容 <code>React</code> 的最新版本，这个问题官方没有很好的解决。</p><blockquote><p>注意，降版本的时候，服务器内项目的 <code>node_module</code> 包清理一下，会有缓存。</p></blockquote><h4 id="问题-4" tabindex="-1">问题 4 ​</h4><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/29690202836646ab9594b7bd1166f030~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="image.png " loading="lazy"></p><p>报错：styleImport is not a function</p><p><strong>解决办法</strong>：</p><p><code>vite-plugin-style-import</code> 插件作者，在后期更新的时候，将默认导出的方法变成了一个 <code>object</code>， 所以同学们可以尝试这样的写法：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> styleImport } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite-plugin-style-import&#39;</span></span></code></pre></div><p>或者</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> styleImport </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite-plugin-style-import&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _styleImport</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> styleImport.default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_styleImport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">..</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h4 id="问题-5" tabindex="-1">问题 5 ​</h4><p>如果遇到&quot;Failed to load PostCSS config&quot;，可以尝试将根目录下的 <code>postcss.config.js</code> 的后缀改成 <code>.cjs</code>结尾。</p>`,43),n=[e];function l(h,d,o,k,c,r){return a(),i("div",null,n)}const F=s(t,[["render",l]]);export{b as __pageData,F as default};
